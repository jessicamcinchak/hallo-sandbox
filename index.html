<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
		<script src="http://rangy.googlecode.com/svn/trunk/currentrelease/rangy-core.js"></script>
		<script src="dist/hallo.js"></script>
		<title>Hallo sandbox</title>
		<style>
		</style>
	</head>
	<body>
		<button id="enable">Enable</button>
    	<button id="disable">Disable</button>
		<p id="modified">Editables have not been modified</p>

		<h1 class="editable">This is a h1 header with class set to "editable"</h1>
		<h2 class="editable">This is a h2 header</h2>
		
		<div class="editable">
			<p>
				This is a paragraph inside a div that has class set to "editable." Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.
			</p>
			<p>
				This is a second paragraph. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius.
			</p>

			<table>
				<tr>
					<td width="50%">This is a data table</td>
					<td width="25%">2000</td>
					<td width="25%">2010</td>
				</tr>
				<tr>
					<td width="50%">Federal</td>
					<td width="25%">$5.6b</td>
					<td width="25%">$8.2b</td>
				</tr>
				<tr>
					<td width="50%">State</td>
					<td width="25%">$1.2b</td>
					<td width="25%">$4.5b</td>
				</tr>
			</table>
		</div>

		<script>
		  $('#enable').button().click(function() {
		  	var $modified = jQuery('#modified');
	        $('.editable').hallo({
	          editable: true //activate editor on button click
	        });
	        $('.editable').bind('halloactivated', function(event, data) {
	        	$modified.html("Editables are active"); //detects click within editable div
	        	console.log(($(this).text().length)); //logs number of characters in active div
	        }).bind('hallomodified', function(event, data) {
	            $modified.html("Editables have been modified"); //detects adding or deleting characters
	        }).bind('halloselected', function(event, data) {
	            $modified.html("Selection made"); //detects highlighting characters
	        }).bind('hallounselected', function(event, data) {
	            $modified.html("Selection removed"); //detects un-highlighting 
	        });
	      });
	      $('#disable').button().click(function() {
	        $('.editable').hallo({editable: false}); //disable editor on button click
	      });
	      $('.editable').bind('hallodeactivated', function() {
	        // $(this).hallo({editable:false});
	      });
		</script>
	</body>
</html>